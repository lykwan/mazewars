{"version":3,"sources":["webpack:///webpack/bootstrap 882468af44a87718efd2","webpack:///./public/src/index.js","webpack:///./public/src/game.js","webpack:///./public/src/components/canvas.js","webpack:///./public/src/components/entities.js","webpack:///./public/src/constants.js","webpack:///./public/src/components/player.js","webpack:///./public/src/components/weapon.js","webpack:///./public/src/components/sidebar.js","webpack:///./public/src/model/client_model.js","webpack:///./public/src/board.js","webpack:///./public/src/tile.js"],"names":["document","addEventListener","game","start","Constants","require","mapGrid","wallDirection","socket","io","Game","players","weapons","NUM_ROWS","TILE_WIDTH","NUM_COLS","TILE_HEIGHT","Crafty","background","scene","setUpLoadingScene","bind","setUpConnection","setUpPlayersMove","setUpAddNewPlayer","setUpPlacingWeapons","setUpCreateDamage","setUpHPChange","loadingScene","e","attr","x","y","text","textColor","playerTextY","on","data","selfId","playerColor","playerId","colors","player","at","setUp","setUpSocket","bindingKeyEvents","$","append","HP","playerIds","forEach","otherPlayer","id","board","seedRandomStr","i","j","grid","drawWalls","weapon","weaponId","type","color","destroy","damageCell","setUpCreator","creatorId","disappearAfter","playerHP","createComponents","createPlayerComponent","createWeaponComponent","createSideBarComponent","module","exports","model","init","c","w","PLAYER_WIDTH","h","PLAYER_HEIGHT","col","row","WALL_THICKNESS","requires","wallDir","wall","HORIZONTAL","VERTICAL","receiver","atWall","offset","offSetX","offsetY","weaponTypes","BFS","DSF","charSpeed","hasTakenDamage","getCol","Math","floor","getRow","charMove","left","right","up","down","emit","keyCode","keys","RIGHT_ARROW","LEFT_ARROW","UP_ARROW","DOWN_ARROW","Z","pickUpWeapon","X","shootWeapon","weaponType","weaponDisplayId","setTimeout","createText","ClientModel","wallInit","playerMoveInDirections","speed","Tile","DIRECTION","top","bottom","OPPOSITE","Board","n","m","numCols","numRows","seedrandom","createGrid","frontier","createMaze","Array","length","dirs","newX","dir","newY","isInGrid","isInMaze","hasBeenFrontier","push","neighbors","otherX","otherY","addFrontiers","randomX","random","randomY","expandMaze","randomIndex","splice","randomPos","inMazeNeighbors","neighX","neighY","direction","walls","Object","filter"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 882468af44a87718efd2\n **/","import Game from './game.js';\n/* globals io */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  const game = new Game();\n  game.start();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/src/index.js\n **/","import createCanvas from './components/canvas.js';\nimport createComponents from './components/entities.js';\nimport createPlayerComponent from './components/player.js';\nimport ClientModel from './model/client_model.js';\nimport Board from './board.js';\nconst Constants = require('./constants.js');\nconst mapGrid = Constants.mapGrid;\nconst wallDirection = Constants.wallDirection;\n\nconst socket = io();\n/* globals Crafty */\n/* globals io */\n\nclass Game {\n  constructor() {\n    this.players = {};\n    this.weapons = {};\n  }\n\n  width() {\n    return mapGrid.NUM_ROWS * mapGrid.TILE_WIDTH;\n  }\n\n  height() {\n    return mapGrid.NUM_COLS * mapGrid.TILE_HEIGHT;\n  }\n\n  start() {\n    createCanvas(Crafty, ClientModel);\n    Crafty.background('#000000');\n\n    Crafty.scene('Loading', () => {\n      this.setUpLoadingScene.bind(this)();\n    });\n\n    Crafty.scene('Game', () => {\n      this.setUpConnection();\n      this.setUpPlayersMove();\n      this.setUpAddNewPlayer();\n      this.setUpPlacingWeapons();\n      this.setUpCreateDamage();\n      this.setUpHPChange();\n    });\n\n    // Crafty.scene('Loading');\n\n    Crafty.scene('Game');\n  }\n\n  setUpLoadingScene() {\n    let loadingScene =\n      Crafty.e('2D, DOM, Text')\n            .attr({ x: 0, y: 0 })\n            .text('A-maze Ball')\n            .textColor('white');\n\n    let playerTextY = 50;\n    socket.on('connected', data => {\n      Crafty.e('2D, DOM, Text')\n            .attr({ x: 50, y: playerTextY })\n            .text(data.selfId)\n            .textColor(data.playerColor);\n      playerTextY += 30;\n    });\n\n    socket.on('addNewPlayer', data => {\n      Crafty.e('2D, DOM, Text')\n            .attr({ x: 50, y: playerTextY })\n            .text(`connected with ${ data.playerId }`)\n            .textColor('white');\n      playerTextY += 30;\n    });\n  }\n\n  setUpConnection() {\n    var colors = ['#7ec0ee', 'red', 'yellow', 'green'];\n    socket.on('connected', data => {\n      // let weaponDisplay = Crafty.e('WeaponDisplay')\n      //                           .attr({ x: 600, y: 300 })\n      //                           .createText(' ');\n      // let weaponDisplayId = weaponDisplay[0];\n      let player = Crafty.e('Player')\n                         .at(0, 0)\n                         .setUp(data.selfId, data.playerColor)\n                         .setUpSocket(socket)\n                         .bindingKeyEvents();\n\n      $('#scoreboard')\n        .append(`<li class='player-${ data.selfId }'>\n                    ${ player.HP }\n                </li>`);\n\n      data.playerIds.forEach(id => {\n        let otherPlayer = Crafty.e('OtherPlayer')\n                                .at(0, 0)\n                                .setUp(id, colors[id]);\n        $('#scoreboard')\n          .append(`<li class='player-${ id }'>\n                      ${ otherPlayer.HP }\n                  </li>`);\n        this.players[id] = otherPlayer;\n      });\n\n      this.players[data.selfId] = player;\n      this.board =\n        new Board(mapGrid.NUM_COLS, mapGrid.NUM_ROWS, data.seedRandomStr);\n\n      for (let i = 0; i < mapGrid.NUM_COLS; i++) {\n        for (let j = 0; j < mapGrid.NUM_ROWS; j++) {\n          this.board.grid[i][j].drawWalls(Crafty);\n        }\n      }\n\n    });\n  }\n\n  setUpAddNewPlayer() {\n    var colors = ['blue', 'red', 'yellow', 'green'];\n    socket.on('addNewPlayer', data => {\n      let otherPlayer = Crafty.e('OtherPlayer')\n                              .at(0, 0)\n                              .setUp(data.playerId, colors[data.playerId]);\n      $('#scoreboard')\n        .append(`<li class='player-${ data.playerId }'>\n                    ${ otherPlayer.HP }\n                </li>`);\n      this.players[data.playerId] = otherPlayer;\n    });\n  }\n\n  setUpPlayersMove() {\n    socket.on('updatePos', data => {\n      const player = this.players[data.playerId];\n      if (player) {\n        player.x = data.x;\n        player.y = data.y;\n      }\n    });\n  }\n\n  setUpPlacingWeapons() {\n    socket.on('addWeapon', data => {\n      const weapon = Crafty.e('Weapon')\n                           .at(data.x, data.y)\n                           .setUp(data.weaponId, data.type)\n                           .color(data.color);\n      this.weapons[data.weaponId] = weapon;\n    });\n\n    socket.on('destroyWeapon', data => {\n      const weapon = this.weapons[data.weaponId];\n      weapon.destroy();\n    });\n  }\n\n  setUpCreateDamage() {\n    socket.on('createDamage', data => {\n      Crafty.e('Damage')\n            .at(data.damageCell[0], data.damageCell[1])\n            .setUpCreator(data.creatorId)\n            .disappearAfter()\n            .color('#7ec0ee', 0.5);\n    });\n  }\n\n  setUpHPChange() {\n    socket.on('HPChange', data => {\n      const player = this.players[data.playerId];\n      if (player) {\n        player.HP = data.playerHP;\n        $(`.player-${ data.playerId }`).text(player.HP);\n      }\n    });\n  }\n}\n\nexport default Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/src/game.js\n **/","var createComponents = require('./entities.js');\nvar createPlayerComponent = require('./player.js');\nvar createWeaponComponent = require('./weapon.js');\nvar createSideBarComponent = require('./sidebar.js');\n\nmodule.exports = function(Crafty, model) {\n  Crafty.init(500, 500);\n\n  createComponents(Crafty, model);\n  createPlayerComponent(Crafty, model);\n  createWeaponComponent(Crafty);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/src/components/canvas.js\n **/","const Constants = require('../constants.js');\nconst mapGrid = Constants.mapGrid;\nconst wallDirection = Constants.wallDirection;\n/* globals Crafty */\n\nmodule.exports = function(Crafty, model) {\n  Crafty.c('Tile', {\n    init: function() {\n      this.attr({\n        w: mapGrid.PLAYER_WIDTH,\n        h: mapGrid.PLAYER_HEIGHT\n      });\n    },\n\n    at: function(col, row) {\n      const x = col * mapGrid.TILE_WIDTH + mapGrid.WALL_THICKNESS;\n      const y = row * mapGrid.TILE_HEIGHT + mapGrid.WALL_THICKNESS;\n      this.attr({ x: x, y: y });\n      return this;\n    }\n  });\n\n\n  Crafty.c('Actor', {\n    init: function() {\n      this.requires('2D, Canvas, Tile');\n    },\n  });\n\n\n  Crafty.c('Wall', {\n    init: function() {\n      this.requires('2D, Canvas, Solid, Color, Collision');\n    },\n\n    wallDir: function(wallDir) {\n      let wall = this;\n      if (wallDir === wallDirection.HORIZONTAL) {\n        wall.attr({\n             w: mapGrid.TILE_WIDTH,\n             h: mapGrid.WALL_THICKNESS\n           });\n      } else if (wallDir === wallDirection.VERTICAL) {\n        wall.attr({\n             w: mapGrid.WALL_THICKNESS,\n             h: mapGrid.TILE_HEIGHT\n           });\n      }\n\n      if (model.receiver === 'CLIENT') {\n        wall.color('#FFFFFF');\n      }\n\n      return wall;\n    },\n\n    atWall: function(row, col, offset) {\n      const [offSetX, offsetY] = offset;\n      const x = (row * mapGrid.TILE_WIDTH) +\n                (offSetX * (mapGrid.TILE_WIDTH - mapGrid.WALL_THICKNESS));\n      const y = (col * mapGrid.TILE_HEIGHT) +\n                (offsetY * (mapGrid.TILE_HEIGHT - mapGrid.WALL_THICKNESS));\n      this.attr({ x: x, y: y });\n      return this;\n    }\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/src/components/entities.js\n **/","const mapGrid = {\n  NUM_ROWS: 8,\n  NUM_COLS: 8,\n  WALL_THICKNESS: 3,\n  TILE_WIDTH: 50,\n  TILE_HEIGHT: 50,\n  PLAYER_WIDTH: 30,\n  PLAYER_HEIGHT: 30\n};\n\nconst wallDirection = {\n  HORIZONTAL: 'HORIZONTAL',\n  VERTICAL: 'VERTICAL'\n};\n\nconst weaponTypes = {\n  BFS: 'BFS',\n  DSF: 'DFS'\n};\n\nmodule.exports = {\n  mapGrid: mapGrid,\n  wallDirection: wallDirection,\n  weaponTypes: weaponTypes\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/src/constants.js\n **/","/* globals Crafty */\nconst Constants = require('../constants.js');\nconst mapGrid = Constants.mapGrid;\nconst wallDirection = Constants.wallDirection;\n\nmodule.exports = function(Crafty, model) {\n  Crafty.c('Player', {\n    init: function() {\n      this.requires('Actor, Color, Collision, Text');\n      this.charSpeed = 2;\n      this.HP = 100;\n      this.hasTakenDamage = false;\n    },\n\n    getCol: function() {\n      return Math.floor(this.x / mapGrid.TILE_WIDTH);\n    },\n\n    getRow: function() {\n      return Math.floor(this.y / mapGrid.TILE_HEIGHT);\n    },\n\n    bindingKeyEvents() {\n      this.charMove = { left: false, right: false, up: false, down: false };\n\n      this.bind('EnterFrame', function() {\n        if (this.charMove.right || this.charMove.left ||\n            this.charMove.up || this.charMove.down) {\n          this.socket.emit('updatePos', {\n            playerId: this.playerId,\n            charMove: this.charMove\n          });\n        }\n      });\n\n      this.bind('KeyDown', function(e) {\n        this.charMove.left = false;\n        this.charMove.right = false;\n        this.charMove.down = false;\n        this.charMove.up = false;\n\n        if (e.keyCode === Crafty.keys.RIGHT_ARROW) this.charMove.right = true;\n        if (e.keyCode === Crafty.keys.LEFT_ARROW) this.charMove.left = true;\n        if (e.keyCode === Crafty.keys.UP_ARROW) this.charMove.up = true;\n        if (e.keyCode === Crafty.keys.DOWN_ARROW) this.charMove.down = true;\n\n        if (e.keyCode === Crafty.keys.Z) {\n          this.pickUpWeapon();\n        }\n\n        if (e.keyCode === Crafty.keys.X) {\n          this.shootWeapon();\n        }\n      });\n\n      this.bind('KeyUp', function(e) {\n        if (e.keyCode === Crafty.keys.RIGHT_ARROW) this.charMove.right = false;\n        if (e.keyCode === Crafty.keys.LEFT_ARROW) this.charMove.left = false;\n        if (e.keyCode === Crafty.keys.UP_ARROW) this.charMove.up = false;\n        if (e.keyCode === Crafty.keys.DOWN_ARROW) this.charMove.down = false;\n      });\n\n      return this;\n    },\n\n    setUp: function(playerId, playerColor) {\n      this.playerId = playerId;\n      if (playerColor) {\n        this.color(playerColor);\n      }\n      return this;\n    },\n\n    setUpSocket: function(socket) {\n      this.socket = socket;\n      return this;\n    },\n\n    pickUpWeapon: function() {\n      this.socket.emit('pickUpWeapon', {\n        playerId: this.playerId\n      });\n\n      this.socket.on('pickUpWeapon', data => {\n        this.weaponType = data.type;\n        this.color('white');\n        // const weaponDisplay = Crafty(this.weaponDisplayId);\n        // weaponDisplay.createText(this.weaponType);\n      });\n    },\n\n    shootWeapon: function() {\n      this.socket.emit('shootWeapon', {\n        playerId: this.playerId\n      });\n    }\n  });\n\n  Crafty.c('OtherPlayer', {\n    init: function() {\n      this.requires('Actor, Color');\n      this.HP = 100;\n    },\n\n    setUp: function(playerId, playerColor, weaponDisplayId) {\n      this.playerId = playerId;\n\n      if (playerColor) {\n        this.color(playerColor);\n      }\n\n      if (weaponDisplayId) {\n        this.weaponDisplayId = weaponDisplayId;\n      }\n\n      return this;\n    },\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/src/components/player.js\n **/","/* globals Crafty */\n\nmodule.exports = function(Crafty) {\n  Crafty.c('Weapon', {\n    init: function() {\n      this.requires('Actor, Color, Collision');\n    },\n\n    setUp: function(weaponId, type) {\n      this.weaponId = weaponId;\n      this.type = type;\n      return this;\n    }\n  });\n\n  Crafty.c('Damage', {\n    init: function() {\n      this.requires('Actor, Color, Collision');\n    },\n\n    setUpCreator(playerId) {\n      this.creatorId = playerId;\n      return this;\n    },\n\n    disappearAfter() {\n      setTimeout(() => this.destroy(), 400);\n      return this;\n    }\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/src/components/weapon.js\n **/","/* globals Crafty */\n\nmodule.exports = function(Crafty) {\n  Crafty.c('PlayerScore', {\n    init: function() {\n      this.requires('2D, DOM, Text');\n    },\n  });\n\n  Crafty.c('PlayerIcon', {\n    init: function() {\n      this.requires('Actor, Color');\n    }\n  });\n\n  Crafty.c('WeaponDisplay', {\n    init: function() {\n      this.requires('2D, DOM, Text, Color');\n      this.color('white');\n    },\n\n    createText: function(type) {\n      this.text(`Weapon: ${ type }`);\n      return this;\n    }\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/src/components/sidebar.js\n **/","let ClientModel = {\n  receiver: 'CLIENT',\n  wallInit: function() {\n    this.requires('2D, Canvas, Solid, Color, Collision');\n  },\n  playerMoveInDirections: function(speed) {\n\n  }\n };\n\nmodule.exports = ClientModel;\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/src/model/client_model.js\n **/","const Constants = require('./constants.js');\nconst mapGrid = Constants.mapGrid;\nconst wallDirection = Constants.wallDirection;\nconst Tile = require('./tile.js');\n\n\nconst DIRECTION = {\n  left: 'left',\n  right: 'right',\n  top: 'top',\n  bottom: 'bottom'\n};\n\nconst OPPOSITE = {\n  left: DIRECTION.right,\n  right: DIRECTION.left,\n  top: DIRECTION.bottom,\n  bottom: DIRECTION.top\n};\n\n\nclass Board {\n  constructor(n, m, seedRandomStr) {\n    this.numCols = n;\n    this.numRows = m;\n    Math.seedrandom(seedRandomStr);\n    this.grid = this.createGrid();\n    this.frontier = [];\n    this.createMaze();\n  }\n\n  createGrid() {\n    let grid = new Array(this.numRows);\n    for (let i = 0; i < grid.length; i++) {\n      grid[i] = new Array(this.numCols);\n      for (let j = 0; j < this.numCols; j++) {\n        grid[i][j] = new Tile(i, j);\n      }\n    }\n    return grid;\n  }\n\n  addFrontiers(x, y) {\n    let dirs = [[-1, 0], [1, 0], [0, -1], [0, 1]];\n    dirs.forEach(dir => {\n      const [newX, newY] = [x + dir[0], y + dir[1]];\n\n      if (this.isInGrid(newX, newY) && !this.grid[newX][newY].isInMaze &&\n          this.grid[newX][newY].hasBeenFrontier === false) {\n        this.frontier.push([newX, newY]);\n        this.grid[newX][newY].hasBeenFrontier = true;\n      }\n    });\n  }\n\n  isInGrid(x, y) {\n    return 0 <= x && x < this.numCols && 0 <= y && y < this.numRows;\n  }\n\n  inMazeNeighbors(x, y) {\n    let neighbors = [];\n    if (x > 0 && this.grid[x - 1][y].isInMaze) {\n      neighbors.push([x - 1, y]);\n    }\n    if (x < (this.numCols - 1) && this.grid[x + 1][y].isInMaze) {\n      neighbors.push([x + 1, y]);\n    }\n    if (y > 0 && this.grid[x][y - 1].isInMaze) {\n      neighbors.push([x, y - 1]);\n    }\n    if (y < (this.numRows - 1) && this.grid[x][y + 1].isInMaze) {\n      neighbors.push([x, y + 1]);\n    }\n\n    return neighbors;\n  }\n\n  direction(x, y, otherX, otherY) {\n    if ((otherX < x) && y === otherY) {\n      return DIRECTION.left;\n    } else if ((otherY < y) && x === otherX) {\n      return DIRECTION.top;\n    } else if ((otherX > x) && y === otherY) {\n      return DIRECTION.right;\n    } else if ((otherY > y) && x === otherX) {\n      return DIRECTION.bottom;\n    }\n  }\n\n  expandMaze(x, y) {\n    this.grid[x][y].isInMaze = true;\n    this.addFrontiers(x, y);\n  }\n\n  createMaze() {\n    const randomX = Math.floor(Math.random() * this.numCols);\n    const randomY = Math.floor(Math.random() * this.numRows);\n    this.expandMaze(randomX, randomY);\n    while (this.frontier.length !== 0) {\n      const randomIndex = Math.floor(Math.random() * this.frontier.length);\n      const [randomPos] = this.frontier.splice(randomIndex, 1);\n      const [x, y] = randomPos;\n      const neighbors = this.inMazeNeighbors(x, y);\n      const [neighX, neighY] =\n        neighbors[Math.floor(Math.random() * neighbors.length)];\n\n      const dir = this.direction(x, y, neighX, neighY);\n      this.grid[x][y].walls[dir] = false;\n      this.grid[neighX][neighY].walls[OPPOSITE[dir]] = false;\n\n      this.expandMaze(x, y);\n    }\n  }\n}\n\nmodule.exports = Board;\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/src/board.js\n **/","const Constants = require('./constants.js');\nconst mapGrid = Constants.mapGrid;\nconst wallDirection = Constants.wallDirection;\n/* globals Crafty */\n\nclass Tile {\n  constructor(x, y) {\n    this.walls = {\n      left: true,\n      right: true,\n      top: true,\n      bottom: true,\n    };\n    this.isInMaze = false;\n    this.hasBeenFrontier = false;\n    this.x = x;\n    this.y = y;\n  }\n\n  drawWalls(Crafty) {\n    if (this.walls.left) {\n      Crafty.e('Wall').wallDir(wallDirection.VERTICAL)\n                      .atWall(this.x, this.y, [0, 0]);\n    }\n    if (this.walls.right) {\n      Crafty.e('Wall').wallDir(wallDirection.VERTICAL)\n                      .atWall(this.x, this.y, [1, 0]);\n    }\n    if (this.walls.top) {\n      Crafty.e('Wall').wallDir(wallDirection.HORIZONTAL)\n                      .atWall(this.x, this.y, [0, 0]);\n    }\n    if (this.walls.bottom) {\n      Crafty.e('Wall').wallDir(wallDirection.HORIZONTAL)\n                      .atWall(this.x, this.y, [0, 1]);\n    }\n  }\n\n  remainingPaths() {\n    return Object.keys(this.walls).filter((wall) => {\n      return !this.walls[wall];\n    });\n  }\n}\n\nmodule.exports = Tile;\n\n\n\n/** WEBPACK FOOTER **\n ** ./public/src/tile.js\n **/"],"sourceRoot":""}